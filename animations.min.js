function splitLinesAnimation(container,delay=0){const root=container||document;return barbaLog("splitLinesAnimation called",{delay:delay,container:!!container}),new Promise(resolve=>{setTimeout(()=>{const texts=Array.from(root.querySelectorAll("[data-line-reveal='true']"));let allLines=[];texts.forEach(text=>{const split=SplitText.create(text,{type:"lines",autoSplit:!0,mask:"lines",linesClass:"line"});allLines=allLines.concat(split.lines),gsap.set(text,{visibility:"visible"})}),window.splitLines=allLines,allLines.length?gsap.fromTo(allLines,{yPercent:130},{yPercent:0,duration:1.5,ease:"expo.out",stagger:.045,onComplete:()=>{barbaLog("splitLinesAnimation completed"),resolve()}}):resolve()},delay)})}function addDelayedLoadedClass(container,delay=500){const root=container||document;barbaLog("addDelayedLoadedClass called",{delay:delay,container:!!container});const items=Array.from(root.querySelectorAll("[data-barba-animation='item']"));items.forEach((item,i)=>{setTimeout(()=>{item.classList.add("is-loaded"),barbaLog(`Added is-loaded class to item ${i} after delay ${delay}ms`)},delay)}),barbaLog("Delayed loaded class animation scheduled",{itemsCount:items.length,delay:delay})}function animatePageIntroForFade(container,skipAnimation=!1){const root=container||document;return barbaLog("animatePageIntroForFade called",{skipAnimation:skipAnimation,container:!!container}),skipAnimation?(barbaLog("Skipping animations due to skipAnimation flag"),new Promise(resolve=>{setTimeout(()=>{barbaLog("Skip animation completed"),resolve()},50)})):document.fonts.ready.then(()=>{const texts=Array.from(root.querySelectorAll("[data-line-reveal='true']"));let allLines=[];texts.forEach(text=>{const split=SplitText.create(text,{type:"lines",autoSplit:!0,mask:"lines",linesClass:"line"});allLines=allLines.concat(split.lines),gsap.set(text,{visibility:"visible"})}),window.splitLines=allLines,allLines.length&&gsap.fromTo(allLines,{yPercent:130},{yPercent:0,duration:1.5,ease:"expo.out",stagger:.045}),barbaLog("Page intro animation for fade completed",{textsCount:texts.length,itemsCount:Array.from(root.querySelectorAll("[data-barba-animation='item']")).length})})}function animatePageIntro(container,skipAnimation=!1){const root=container||document;return barbaLog("animatePageIntro called",{skipAnimation:skipAnimation,container:!!container}),skipAnimation?(barbaLog("Skipping animations due to skipAnimation flag"),new Promise(resolve=>{setTimeout(()=>{barbaLog("Skip animation completed"),resolve()},50)})):document.fonts.ready.then(()=>{const texts=Array.from(root.querySelectorAll("[data-line-reveal='true']"));let allLines=[];texts.forEach(text=>{const split=SplitText.create(text,{type:"lines",autoSplit:!0,mask:"lines",linesClass:"line"});allLines=allLines.concat(split.lines),gsap.set(text,{visibility:"visible"})}),window.splitLines=allLines,allLines.length&&gsap.fromTo(allLines,{yPercent:130},{yPercent:0,duration:1.5,ease:"expo.out",stagger:.045});const items=Array.from(root.querySelectorAll("[data-barba-animation='item']"));items.forEach((item,i)=>{setTimeout(()=>{item.classList.add("is-loaded")},15*i)}),barbaLog("Page intro animation completed",{textsCount:texts.length,itemsCount:items.length})})}function animateLeaveAndGo(nextUrl){document.querySelectorAll('[data-barba-animation-gone="item"].is-loaded').forEach(el=>{el.classList.remove("is-loaded"),gsap.to(el,{opacity:0,duration:.3,ease:"power1.in"})}),window.splitLines&&window.splitLines.length?gsap.to(window.splitLines,{yPercent:-110,duration:.5,ease:"expo.in",stagger:.0025,onComplete:function(){window.location.href=nextUrl}}):setTimeout(()=>{window.location.href=nextUrl},200)}function animateLeaveThenGoViaBarba(nextUrl,transitionName){if(window._barbaState.instantNavInProgress)return;window._barbaState.instantNavInProgress=!0;const tl=gsap.timeline({onComplete:()=>{window.barba&&"function"==typeof barba.go?transitionName?barba.go(nextUrl,transitionName):barba.go(nextUrl):window.location.href=nextUrl}});Array.from(document.querySelectorAll('[data-barba-animation-gone="item"].is-loaded')).forEach(el=>{el.classList.remove("is-loaded"),tl.to(el,{opacity:0,duration:.3,ease:"power1.in"},0)}),window.splitLines&&window.splitLines.length?tl.to(window.splitLines,{yPercent:-110,duration:.8,ease:"expo.in",stagger:.0025},.1):tl.to({},{duration:.32})}function initFieldFillerAnimation(scope){const root=scope||document,fieldFillers=Array.from(root.querySelectorAll(".field_filler")),fieldWraps=Array.from(root.querySelectorAll(".field_wrap"));fieldFillers.length&&fieldWraps.length&&(barbaLog("Initializing field filler animation",{fillersCount:fieldFillers.length,wrapsCount:fieldWraps.length}),fieldFillers.forEach((filler,index)=>{gsap.set(filler,{opacity:1}),gsap.to(filler,{opacity:0,duration:.4,ease:"power2.inOut",repeat:-1,yoyo:!0,delay:.2*index}),barbaLog(`Field filler ${index} animation started`)}),fieldWraps.forEach((wrap,index)=>{const filler=wrap.querySelector(".field_filler");if(!filler)return;function hideFiller(){"none"!==filler.style.display&&gsap.to(filler,{opacity:0,duration:.3,ease:"power2.out",onComplete:()=>{filler.style.display="none",barbaLog(`Field filler ${index} hidden after click`)}})}wrap.addEventListener("click",hideFiller,{once:!1});const input=wrap.querySelector("input");input&&input.addEventListener("focus",hideFiller,{once:!1}),barbaLog(`Field wrap ${index} click handlers added`)})})}