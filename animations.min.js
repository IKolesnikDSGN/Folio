function splitLinesAnimation(e,t=0){const a=e||document;return barbaLog("splitLinesAnimation called",{delay:t,container:!!e}),new Promise(e=>{setTimeout(()=>{const t=Array.from(a.querySelectorAll("[data-line-reveal='true']"));let n=[];t.forEach(e=>{const t=SplitText.create(e,{type:"lines",autoSplit:!0,mask:"lines",linesClass:"line"});n=n.concat(t.lines),gsap.set(e,{visibility:"visible"})}),window.splitLines=n,n.length?gsap.fromTo(n,{yPercent:130},{yPercent:0,duration:1.5,ease:"expo.out",stagger:.045,onComplete:()=>{barbaLog("splitLinesAnimation completed"),e()}}):e()},t)})}function addDelayedLoadedClass(e,t=500){const a=e||document;barbaLog("addDelayedLoadedClass called",{delay:t,container:!!e});const n=Array.from(a.querySelectorAll("[data-barba-animation='item']"));n.forEach((e,a)=>{setTimeout(()=>{e.classList.add("is-loaded"),barbaLog(`Added is-loaded class to item ${a} after delay ${t}ms`)},t)}),barbaLog("Delayed loaded class animation scheduled",{itemsCount:n.length,delay:t})}function animatePageIntroForFade(e,t=!1){const a=e||document;return barbaLog("animatePageIntroForFade called",{skipAnimation:t,container:!!e}),t?(barbaLog("Skipping animations due to skipAnimation flag"),new Promise(e=>{setTimeout(()=>{barbaLog("Skip animation completed"),e()},50)})):document.fonts.ready.then(()=>{const e=Array.from(a.querySelectorAll("[data-line-reveal='true']"));let t=[];e.forEach(e=>{const a=SplitText.create(e,{type:"lines",autoSplit:!0,mask:"lines",linesClass:"line"});t=t.concat(a.lines),gsap.set(e,{visibility:"visible"})}),window.splitLines=t,t.length&&gsap.fromTo(t,{yPercent:130},{yPercent:0,duration:1.5,ease:"expo.out",stagger:.045}),barbaLog("Page intro animation for fade completed",{textsCount:e.length,itemsCount:Array.from(a.querySelectorAll("[data-barba-animation='item']")).length})})}function animatePageIntro(e,t=!1){const a=e||document;return barbaLog("animatePageIntro called",{skipAnimation:t,container:!!e}),t?(barbaLog("Skipping animations due to skipAnimation flag"),new Promise(e=>{setTimeout(()=>{barbaLog("Skip animation completed"),e()},50)})):document.fonts.ready.then(()=>{const e=Array.from(a.querySelectorAll("[data-line-reveal='true']"));let t=[];e.forEach(e=>{const a=SplitText.create(e,{type:"lines",autoSplit:!0,mask:"lines",linesClass:"line"});t=t.concat(a.lines),gsap.set(e,{visibility:"visible"})}),window.splitLines=t,t.length&&gsap.fromTo(t,{yPercent:130},{yPercent:0,duration:1.5,ease:"expo.out",stagger:.045});const n=Array.from(a.querySelectorAll("[data-barba-animation='item']"));n.forEach((e,t)=>{setTimeout(()=>{e.classList.add("is-loaded")},15*t)}),barbaLog("Page intro animation completed",{textsCount:e.length,itemsCount:n.length})})}function animateLeaveAndGo(e){document.querySelectorAll('[data-barba-animation-gone="item"].is-loaded').forEach(e=>{e.classList.remove("is-loaded"),gsap.to(e,{opacity:0,duration:.3,ease:"power1.in"})}),window.splitLines&&window.splitLines.length?gsap.to(window.splitLines,{yPercent:-110,duration:.5,ease:"expo.in",stagger:.0025,onComplete:function(){window.location.href=e}}):setTimeout(()=>{window.location.href=e},200)}function animateLeaveThenGoViaBarba(e,t){if(window._barbaState.instantNavInProgress)return;window._barbaState.instantNavInProgress=!0;const a=gsap.timeline({onComplete:()=>{window.barba&&"function"==typeof barba.go?t?barba.go(e,t):barba.go(e):window.location.href=e}});Array.from(document.querySelectorAll('[data-barba-animation-gone="item"].is-loaded')).forEach(e=>{e.classList.remove("is-loaded"),a.to(e,{opacity:0,duration:.3,ease:"power1.in"},0)}),window.splitLines&&window.splitLines.length?a.to(window.splitLines,{yPercent:-110,duration:.8,ease:"expo.in",stagger:.0025},.1):a.to({},{duration:.32})}function initFieldFillerAnimation(e){const t=e||document,a=Array.from(t.querySelectorAll(".field_filler")),n=Array.from(t.querySelectorAll(".field_wrap"));a.length&&n.length&&(barbaLog("Initializing field filler animation",{fillersCount:a.length,wrapsCount:n.length}),a.forEach((e,t)=>{gsap.set(e,{opacity:1}),gsap.to(e,{opacity:0,duration:.4,ease:"power2.inOut",repeat:-1,yoyo:!0,delay:.2*t}),barbaLog(`Field filler ${t} animation started`)}),n.forEach((e,t)=>{const a=e.querySelector(".field_filler");if(!a)return;function n(){"none"!==a.style.display&&gsap.to(a,{opacity:0,duration:.3,ease:"power2.out",onComplete:()=>{a.style.display="none",barbaLog(`Field filler ${t} hidden after click`)}})}e.addEventListener("click",n,{once:!1});const o=e.querySelector("input");o&&o.addEventListener("focus",n,{once:!1}),barbaLog(`Field wrap ${t} click handlers added`)}))}
