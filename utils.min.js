function updateTimezoneTime(){const a=document.querySelector(".timezone_span");function t(){const a=new Date,t=new Date(a.getTime()+108e5);return`${t.getUTCHours().toString().padStart(2,"0")} : ${t.getUTCMinutes().toString().padStart(2,"0")}`}a&&(a.textContent=t(),setInterval(()=>{a.textContent=t()},6e4))}function barbaLog(a,t=null){window._barbaState.debug&&console.log(`[Barba] ${a}`,t)}function addToNavigationHistory(a){const t=window.location.pathname;t!==a&&(window._barbaState.navigationHistory.push(t),window._barbaState.navigationHistory.length>10&&window._barbaState.navigationHistory.shift(),barbaLog("Added to navigation history",{url:a,history:window._barbaState.navigationHistory}))}function isBackNavigation(a){const t=window._barbaState.navigationHistory,e=t.includes(a);return barbaLog("Checking back navigation",{targetUrl:a,isBack:e,history:t}),e}function initBackButtonHandler(){window.addEventListener("popstate",function(a){barbaLog("Popstate event detected",{state:a.state,currentPath:window.location.pathname}),window._barbaState.isBackNavigation=!0,window.barba&&"function"==typeof barba.go?(barbaLog("Triggering crossfade transition for back navigation"),barba.go(window.location.href,"opacity-crossfade")):window.location.reload()}),barbaLog("Back button handler initialized")}function updateCurrentClass(){$(".page_link").removeClass("w--current"),$(".page_link").each(function(){$(this).attr("href")===window.location.pathname&&$(this).addClass("w--current")})}function updatePage(){$(window).scrollTop(0)}function syncProjectClass(a){const t=(a||document).querySelector("[data-project-class]");if(!t)return void barbaLog("No project-class element found");const e=t.getAttribute("data-project-class"),n=document.querySelector(".project-wrapper");n?(barbaLog("Syncing project class",{currentClasses:n.className,newClass:e}),n.classList.remove("show","hide"),"show"!==e&&"hide"!==e||(n.classList.add(e),barbaLog("Project wrapper class updated",{newClasses:n.className}))):barbaLog("Project wrapper not found")}function isMobileOrTablet(){return(window.innerWidth||document.documentElement.clientWidth)<1024}function safeScrollTriggerRefresh(){if(window.ScrollTrigger)try{ScrollTrigger.refresh(),barbaLog("ScrollTrigger refreshed successfully")}catch(a){console.error("[Barba] ScrollTrigger refresh error:",a)}}window.gsap&&window.ScrollTrigger&&gsap.registerPlugin(ScrollTrigger),window._barbaState={isSamePageTransition:!1,instantNavInProgress:!1,currentTransition:null,debug:!1,isBackNavigation:!1,navigationHistory:[]},window.toggleBarbaDebug=function(){return window._barbaState.debug=!window._barbaState.debug,console.log("[Barba] Debug mode "+(window._barbaState.debug?"enabled":"disabled")),window._barbaState.debug},window.resetBarbaState=function(){window._barbaState.isSamePageTransition=!1,window._barbaState.instantNavInProgress=!1,window._barbaState.currentTransition=null,window._barbaState.isBackNavigation=!1,window._barbaState.navigationHistory=[],console.log("[Barba] State reset")},window.findBarbaLinks=function(){const a=document.querySelectorAll("a[data-barba-link]"),t=document.querySelectorAll(".project-wrapper a[data-barba-link]"),e=Array.from(t).filter(a=>{const t=a.closest(".project-wrapper");return t&&!t.classList.contains("hide")&&"none"!==t.style.display&&"hidden"!==t.style.visibility});return console.log("[Barba] Found links:",{total:a.length,inProjectWrapper:t.length,visibleInProjectWrapper:e.length,projectWrapperState:document.querySelector(".project-wrapper")?.className||"not found"}),{all:a,inProjectWrapper:t,visibleInProjectWrapper:e}};
